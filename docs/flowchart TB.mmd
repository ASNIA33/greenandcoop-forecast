flowchart LR
    subgraph SOURCE["üîÑ Source Commune"]
        AIRBYTE["Airbyte<br/>Extraction donn√©es"]
        S3["S3<br/>Donn√©es brutes"]
        AIRBYTE --> S3
    end
    
    subgraph LOCAL["üíª Environnement LOCAL (Dev)"]

        direction TB
        L_DOCKER["Docker Compose<br/>Transformation"]
        L_MONGO["MongoDB ReplicaSet<br/>mongo1 + mongo2 + arbiter"]
        L_LOGS["üìÑ Logs fichiers/console"]
        
        L_DOCKER --> L_MONGO
        L_DOCKER --> L_LOGS
    end
    
    subgraph PROD["‚òÅÔ∏è Environnement PRODUCTION (AWS)"]

        direction TB
        "" ""
        P_ECS["ECS Fargate<br/>Transformation"]

        P_ATLAS["MongoDB Atlas<br/>ReplicaSet 3 n≈ìuds"]

        P_CW["‚òÅÔ∏è CloudWatch<br/>Logs"]
        
        P_ECS --> P_ATLAS

        P_ECS --> P_CW
    end
    
    S3 --> L_DOCKER
    S3 --> P_ECS